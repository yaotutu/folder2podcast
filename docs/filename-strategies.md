# 文件名处理策略

## 文件名序号提取策略

folder2podcast 提供了多种灵活的文件名序号提取策略，可以通过 podcast.json 配置文件选择合适的策略。

### 1. 默认策略

默认使用 'prefix' 策略，从文件名前缀部分提取序号：
- 查找文件名开头的数字序号
- 数字后需要有分隔符（空格、横杠等）
- 示例：'01-标题.mp3', 'ep01_标题.mp3'

### 2. 可配置策略

在 podcast.json 中设置 episodeNumberStrategy 字段来选择策略：

```json
{
  "episodeNumberStrategy": "first"  // 可选值：prefix, first, last, suffix
}
```

支持的策略：

#### prefix 策略（默认）
- 从文件名前缀提取序号
- 示例：
  * '01-标题.mp3' → 序号: 1
  * 'ep01_标题.mp3' → 序号: 1

#### first 策略
- 从左到右查找第一个数字序号
- 类似 prefix，但更宽松
- 示例：
  * '01-标题.mp3' → 序号: 1
  * 'zk001_标题.mp3' → 序号: 1

#### last 策略
- 提取文件名中最后出现的数字作为序号
- 示例：
  * '标题_01.mp3' → 序号: 1
  * '第1期第2版.mp3' → 序号: 2

#### suffix 策略
- 提取文件名结尾部分的数字作为序号
- 示例：
  * '标题_01.mp3' → 序号: 1
  * '科技早知道ep01.mp3' → 序号: 1

### 3. 无序号文件处理

- 当文件名中没有找到序号时（如 '发刊词.mp3'）：
  * 使用文件的创建时间作为发布时间
  * 按创建时间自然排序
  * 这些文件会排在有序号文件之后

### 4. 配置示例

```json
{
  "title": "播客标题",
  "description": "播客描述",
  "episodeNumberStrategy": "first",  // 使用 first 策略
  "titleFormat": "clean"  // 清理标题中的序号和分隔符
}
```

### 5. 命名建议

为获得最佳效果：
1. 在同一个播客目录中保持一致的命名风格
2. 优先使用前缀序号（如 '01-标题.mp3'）
3. 使用明显的分隔符（空格、横杠、下划线等）
4. 避免在标题中使用可能被误认为序号的数字

### 6. 注意事项

1. 如果提取序号失败：
   - 文件会被视为无序号文件
   - 使用创建时间作为发布时间
   - 排在有序号文件之后

2. 序号提取规则：
   - 数字前后需要有合适的分隔符
   - 忽略文件扩展名
   - 支持多位数字（如 '001', '999' 等）

3. 排序逻辑：
   - 有序号文件按序号排序并排在前面
   - 无序号文件按创建时间排序并排在后面